:root {
  --primary: #6c4ed2;
  --primary-600: #5a3cc3;
  --primary-50: #f2efff;
  --secondary: #0e2238;
  --accent: #00c2a8;
}

* { box-sizing: border-box; }
body { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; color: var(--secondary); }

.topbar { background: linear-gradient(90deg, #0e2238, #1b3a5a); }
.hover-white:hover { color: #fff !important; }

.brand-gradient {
  background: linear-gradient(90deg, var(--primary), #a26bff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.hero { background: radial-gradient(1200px 500px at 10% -10%, var(--primary-50), transparent 60%), #ffffff; }
.hero-bg-shape {
  position: absolute; inset: -10% -20% auto auto; width: 60vw; height: 60vw; max-width: 900px;
  background: radial-gradient(closest-side, rgba(108,78,210,0.12), transparent), conic-gradient(from 180deg at 50% 50%, rgba(108,78,210,0.18), rgba(255,255,255,0) 40%);
  filter: blur(14px); z-index: 0; pointer-events: none;
}

.btn-primary { background-color: var(--primary); border-color: var(--primary); }
.btn-primary:hover { background-color: var(--primary-600); border-color: var(--primary-600); }
.btn-primary-soft { background: rgba(108,78,210,0.12); color: var(--primary); border: 1px solid rgba(108,78,210,0.2); }
.btn-primary-soft:hover { background: rgba(108,78,210,0.18); color: var(--primary-600); }
.bg-primary-soft { background: rgba(108,78,210,0.12) !important; }
.bg-secondary-soft { background: rgba(14,34,56,0.08) !important; }
.bg-success-soft { background: rgba(25,135,84,0.12) !important; }
.bg-warning-soft { background: rgba(255,193,7,0.12) !important; }
.bg-info-soft { background: rgba(13,202,240,0.12) !important; }
.bg-danger-soft { background: rgba(220,53,69,0.12) !important; }

.login-card { border-radius: 18px; }
.input-group-text { background: #f7f7fb; }

.feature-tile { border: 1px solid #eee; border-radius: 14px; padding: 20px; background: #fff; transition: transform .2s ease, box-shadow .2s ease; }
.feature-tile:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,0,0,0.08); }
.feature-tile i { font-size: 28px; color: var(--primary); }
.feature-tile h6 { margin-top: 10px; margin-bottom: 6px; }
.feature-tile p { margin: 0; color: #6b7280; font-size: .95rem; }

.kpi .kpi-value { font-size: 2rem; font-weight: 700; color: var(--secondary); }
.kpi .kpi-label { color: #6b7280; }

.icon-circle { width: 40px; height: 40px; display: inline-flex; align-items: center; justify-content: center; background: #f6f7fb; border-radius: 999px; font-size: 18px; }

.footer { background: #0e2238; color: #cbd5e1; }

.org-tree { position: relative; }
.org-tree .border-start { border-color: var(--primary) !important; }

/* Responsive Design */
@media (max-width: 991.98px) {
  .hero .display-5 { font-size: 2rem; }
  .hero { padding: 2rem 0 !important; }
  .login-card { margin-top: 2rem; }
  .btn-lg { padding: 0.75rem 1.5rem; font-size: 1rem; }
  .feature-tile { margin-bottom: 1rem; }
  .topbar { font-size: 0.75rem; padding: 0.5rem 0; }
  .topbar .d-flex { flex-direction: column; gap: 0.5rem; }
}

@media (max-width: 767.98px) {
  .hero .display-5 { font-size: 1.75rem; }
  .hero .lead { font-size: 1rem; }
  .login-card { margin-top: 1.5rem; }
  .btn-lg { padding: 0.625rem 1.25rem; font-size: 0.95rem; }
  .btn { padding: 0.5rem 1rem; }
  .card-body { padding: 1.25rem !important; }
  .kpi-value { font-size: 1.5rem !important; }
  .kpi-label { font-size: 0.85rem; }
  .feature-tile { padding: 1.25rem; }
  .feature-tile i { font-size: 24px; }
  .navbar-brand { font-size: 1rem; }
  .topbar { display: none !important; }
  .d-flex.gap-4 { gap: 1.5rem !important; flex-wrap: wrap; }
  .d-flex.gap-2 { gap: 0.5rem !important; }
  .badge { font-size: 0.7rem; padding: 0.35rem 0.65rem; }
  .input-group-text { padding: 0.5rem 0.75rem; }
  .form-label { font-size: 0.9rem; margin-bottom: 0.5rem; }
  .form-control, .form-select { padding: 0.625rem 0.75rem; font-size: 0.95rem; }
}

@media (max-width: 575.98px) {
  .hero .display-5 { font-size: 1.5rem; line-height: 1.3; }
  .hero .lead { font-size: 0.95rem; }
  .container { padding-left: 1rem; padding-right: 1rem; }
  .btn-lg { width: 100%; margin-bottom: 0.5rem; }
  .d-flex.flex-wrap.gap-2 { flex-direction: column; }
  .d-flex.flex-wrap.gap-2 .btn { width: 100%; }
  .login-card .card-body { padding: 1.5rem !important; }
  .badge { font-size: 0.65rem; padding: 0.3rem 0.5rem; }
  .d-flex.gap-2 { flex-wrap: wrap; }
  .kpi { margin-bottom: 1.5rem; }
  .feature-tile h6 { font-size: 1rem; }
  .feature-tile p { font-size: 0.85rem; }
  .icon-circle { width: 35px; height: 35px; font-size: 16px; }
  .navbar { padding: 0.75rem 0; }
  .navbar-brand img { width: 24px; height: 24px; }
}

/* Touch-friendly improvements */
@media (hover: none) and (pointer: coarse) {
  .btn { min-height: 44px; min-width: 44px; }
  .form-control, .form-select { min-height: 44px; }
  .input-group-text { min-height: 44px; }
  .nav-link { padding: 0.75rem 1rem; }
}

/* Smooth scrolling */
html { scroll-behavior: smooth; }

/* Focus improvements for accessibility */
.form-control:focus, .form-select:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 0.2rem rgba(108, 78, 210, 0.25);
  outline: none;
}

.btn:focus {
  box-shadow: 0 0 0 0.2rem rgba(108, 78, 210, 0.25);
}

/* Loading states */
.btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* Better spacing for mobile */
@media (max-width: 767.98px) {
  section { padding: 2rem 0 !important; }
  .py-5 { padding-top: 2rem !important; padding-bottom: 2rem !important; }
  .mb-4 { margin-bottom: 1.5rem !important; }
  .mb-5 { margin-bottom: 2rem !important; }
}

/* Improved login card on mobile */
@media (max-width: 991.98px) {
  #login { margin-top: 2rem; }
  .login-card { box-shadow: 0 4px 6px rgba(0,0,0,0.1) !important; }
}

/* Better text readability */
@media (max-width: 767.98px) {
  body { font-size: 0.95rem; }
  .small { font-size: 0.85rem; }
  .lead { font-size: 1rem; }
}

/* Improved button groups on mobile */
@media (max-width: 575.98px) {
  .d-flex.gap-2.align-items-center {
    flex-direction: column;
    align-items: flex-start !important;
    gap: 0.75rem !important;
  }
}

/* Shake animation for login error */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
  20%, 40%, 60%, 80% { transform: translateX(5px); }
}

.login-card {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

/* Loading spinner */
.btn-loading {
  position: relative;
  color: transparent !important;
  pointer-events: none;
}

.btn-loading::after {
  content: "";
  position: absolute;
  width: 16px;
  height: 16px;
  top: 50%;
  left: 50%;
  margin-left: -8px;
  margin-top: -8px;
  border: 2px solid #ffffff;
  border-radius: 50%;
  border-top-color: transparent;
  animation: spinner 0.6s linear infinite;
}

@keyframes spinner {
  to { transform: rotate(360deg); }
}

/* Improved focus states */
a:focus-visible, button:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

/* Better form validation */
.form-control:invalid:not(:focus):not(:placeholder-shown) {
  border-color: #dc3545;
}

.form-control:valid:not(:focus):not(:placeholder-shown) {
  border-color: #198754;
}

/* Accessibility improvements */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  html { scroll-behavior: auto; }
}


